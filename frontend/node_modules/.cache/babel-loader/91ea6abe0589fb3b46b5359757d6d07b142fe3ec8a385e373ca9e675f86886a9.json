{"ast":null,"code":"import{useState,useEffect}from'react';import'./DashboardContainer.css';import AgentCard from'../AgentCard';import AgentDetails from'../AgentDetails';import{agentService}from'../../services/agentService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const imgEllipse1=\"http://localhost:3845/assets/dcc912ce11c40eac810e7d22fb275abb31670d4b.svg\";const imgEllipse2=\"http://localhost:3845/assets/94538a1e7a646e4519925df62f18476b373c5bee.svg\";const imgEllipse3=\"http://localhost:3845/assets/721109041c9a688b03535beb6d7d05ad3685a5fa.svg\";const imgDropdownArrow=\"http://localhost:3845/assets/5356d5889cbe72300bc2c08be7daa8190ccab606.svg\";const imgWestArrow=\"http://localhost:3845/assets/dab477c6ade2d19b6d463e2d6994e32669d7440c.svg\";const imgWestIcon=\"http://localhost:3845/assets/9fc49a8ad4582ec588abb9db25500f5811dbc74c.svg\";const imgCall=\"http://localhost:3845/assets/ef6e5e33bf0c7a55016af261878a9906b26dd5b9.svg\";const imgCallIcon=\"http://localhost:3845/assets/20f6037d1e0458230bce762850b2ffc99fe936cb.svg\";const imgLine=\"http://localhost:3845/assets/3873aadcd49ad269806198541057edcaf8fbb825.svg\";const imgLine10=\"http://localhost:3845/assets/617d77add44dc3b59a619850aa9fc52a5d3b4974.svg\";const imgLine14=\"http://localhost:3845/assets/9082e57296c9ee82cca1c2ee794dfcdd9f9129df.svg\";const imgPerson=\"http://localhost:3845/assets/627d492e7c95cfbccc4574266f4dce2d0ee267c5.svg\";function DashboardContainer(){const[selectedFilter,setSelectedFilter]=useState('All');const[isDropdownOpen,setIsDropdownOpen]=useState(false);const[selectedAgent,setSelectedAgent]=useState(null);const[agents,setAgents]=useState([]);const[loading,setLoading]=useState(true);// Fetch agents data when component mounts\nuseEffect(()=>{const fetchAgents=async()=>{setLoading(true);try{const agentsData=await agentService.getAllAgents();// Assign avatars to agents\nconst avatars=[imgEllipse1,imgEllipse2,imgEllipse3];const agentsWithAvatars=agentsData.map((agent,index)=>({...agent,avatar:avatars[index%avatars.length]}));setAgents(agentsWithAvatars);}catch(error){console.error('Error fetching agents:',error);}finally{setLoading(false);}};fetchAgents();},[]);// Get unique programs for filter dropdown\nconst programs=['All','National Hotline Program','Nebraska Crisis Program'];const filteredAgents=selectedFilter==='All'?agents:agents.filter(agent=>agent.program===selectedFilter);const handleAgentClick=async agent=>{// Get detailed agent data including evaluations\nconst detailedAgent=await agentService.getAgentById(agent.contactId);setSelectedAgent({...agent,evaluations:(detailedAgent===null||detailedAgent===void 0?void 0:detailedAgent.evaluations)||[]});};const handleBackClick=()=>{setSelectedAgent(null);};const handleFilterSelect=filter=>{setSelectedFilter(filter);setIsDropdownOpen(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-page\",children:selectedAgent?/*#__PURE__*/_jsx(AgentDetails,{agent:selectedAgent,onBack:handleBackClick}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"filter-btn\",onClick:()=>setIsDropdownOpen(!isDropdownOpen),children:[/*#__PURE__*/_jsx(\"span\",{children:\"FILTER\"}),/*#__PURE__*/_jsx(\"img\",{src:imgDropdownArrow,alt:\"\",className:\"dropdown-arrow\"})]}),isDropdownOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:programs.map(program=>/*#__PURE__*/_jsx(\"div\",{className:`dropdown-item ${selectedFilter===program?'active':''}`,onClick:()=>handleFilterSelect(program),children:program},program))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"agents-grid\",children:filteredAgents.map((agent,index)=>/*#__PURE__*/_jsx(AgentCard,{agent:agent,onClick:handleAgentClick},index))})]})});}export default DashboardContainer;","map":{"version":3,"names":["useState","useEffect","AgentCard","AgentDetails","agentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","imgEllipse1","imgEllipse2","imgEllipse3","imgDropdownArrow","imgWestArrow","imgWestIcon","imgCall","imgCallIcon","imgLine","imgLine10","imgLine14","imgPerson","DashboardContainer","selectedFilter","setSelectedFilter","isDropdownOpen","setIsDropdownOpen","selectedAgent","setSelectedAgent","agents","setAgents","loading","setLoading","fetchAgents","agentsData","getAllAgents","avatars","agentsWithAvatars","map","agent","index","avatar","length","error","console","programs","filteredAgents","filter","program","handleAgentClick","detailedAgent","getAgentById","contactId","evaluations","handleBackClick","handleFilterSelect","className","children","onBack","onClick","src","alt"],"sources":["/Users/synamalhan/Desktop/CIC/boys-town/frontend/src/components/dashboard/DashboardContainer.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './DashboardContainer.css';\nimport AgentCard from '../AgentCard';\nimport AgentDetails from '../AgentDetails';\nimport { agentService } from '../../services/agentService';\n\nconst imgEllipse1 = \"http://localhost:3845/assets/dcc912ce11c40eac810e7d22fb275abb31670d4b.svg\";\nconst imgEllipse2 = \"http://localhost:3845/assets/94538a1e7a646e4519925df62f18476b373c5bee.svg\";\nconst imgEllipse3 = \"http://localhost:3845/assets/721109041c9a688b03535beb6d7d05ad3685a5fa.svg\";\nconst imgDropdownArrow = \"http://localhost:3845/assets/5356d5889cbe72300bc2c08be7daa8190ccab606.svg\";\nconst imgWestArrow = \"http://localhost:3845/assets/dab477c6ade2d19b6d463e2d6994e32669d7440c.svg\";\nconst imgWestIcon = \"http://localhost:3845/assets/9fc49a8ad4582ec588abb9db25500f5811dbc74c.svg\";\nconst imgCall = \"http://localhost:3845/assets/ef6e5e33bf0c7a55016af261878a9906b26dd5b9.svg\";\nconst imgCallIcon = \"http://localhost:3845/assets/20f6037d1e0458230bce762850b2ffc99fe936cb.svg\";\nconst imgLine = \"http://localhost:3845/assets/3873aadcd49ad269806198541057edcaf8fbb825.svg\";\nconst imgLine10 = \"http://localhost:3845/assets/617d77add44dc3b59a619850aa9fc52a5d3b4974.svg\";\nconst imgLine14 = \"http://localhost:3845/assets/9082e57296c9ee82cca1c2ee794dfcdd9f9129df.svg\";\nconst imgPerson = \"http://localhost:3845/assets/627d492e7c95cfbccc4574266f4dce2d0ee267c5.svg\";\n\nfunction DashboardContainer() {\n  const [selectedFilter, setSelectedFilter] = useState('All');\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [selectedAgent, setSelectedAgent] = useState(null);\n  const [agents, setAgents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  \n  // Fetch agents data when component mounts\n  useEffect(() => {\n    const fetchAgents = async () => {\n      setLoading(true);\n      try {\n        const agentsData = await agentService.getAllAgents();\n        \n        // Assign avatars to agents\n        const avatars = [imgEllipse1, imgEllipse2, imgEllipse3];\n        const agentsWithAvatars = agentsData.map((agent, index) => ({\n          ...agent,\n          avatar: avatars[index % avatars.length]\n        }));\n        \n        setAgents(agentsWithAvatars);\n      } catch (error) {\n        console.error('Error fetching agents:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchAgents();\n  }, []);\n\n  // Get unique programs for filter dropdown\n  const programs = ['All', 'National Hotline Program', 'Nebraska Crisis Program'];\n  \n  const filteredAgents = selectedFilter === 'All' \n    ? agents \n    : agents.filter(agent => agent.program === selectedFilter);\n\n  const handleAgentClick = async (agent) => {\n    // Get detailed agent data including evaluations\n    const detailedAgent = await agentService.getAgentById(agent.contactId);\n    setSelectedAgent({\n      ...agent,\n      evaluations: detailedAgent?.evaluations || []\n    });\n  };\n\n  const handleBackClick = () => {\n    setSelectedAgent(null);\n  };\n\n  const handleFilterSelect = (filter) => {\n    setSelectedFilter(filter);\n    setIsDropdownOpen(false);\n  };\n\n  return (\n    <div className=\"dashboard-page\">\n      {selectedAgent ? (\n        <AgentDetails agent={selectedAgent} onBack={handleBackClick} />\n      ) : (\n        <>\n          <div className=\"filter-dropdown\">\n            <button \n              className=\"filter-btn\" \n              onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n            >\n              <span>FILTER</span>\n              <img src={imgDropdownArrow} alt=\"\" className=\"dropdown-arrow\" />\n            </button>\n            {isDropdownOpen && (\n              <div className=\"dropdown-menu\">\n                {programs.map(program => (\n                  <div\n                    key={program}\n                    className={`dropdown-item ${selectedFilter === program ? 'active' : ''}`}\n                    onClick={() => handleFilterSelect(program)}\n                  >\n                    {program}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n          \n          <div className=\"agents-grid\">\n            {filteredAgents.map((agent, index) => (\n              <AgentCard key={index} agent={agent} onClick={handleAgentClick} />\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default DashboardContainer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}